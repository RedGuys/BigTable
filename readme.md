# Тестовое задание для ИНИТИ

## Пояснения к решению
Согласно задаче, решение (протокол общения, серверная часть) написаны без сторонних библиотек, на клиенте используется javafx для отображения данных, который является стандартной библиотекой JVM.

### Протокол
Бинарный протокол общения.
Каждое сообщение начинается с int - тип сообщения

На клиенте есть несколько типов сообщений:
| Тип | Описание | Данные |
| --- | --- | --- |
| 1 | Обновление характеристик клиента (высота) | |
| 2 | Передвижение курсора | int - направление (-1, 1) |
| 3 | Обновление сортировки | String - поле, String - направление |

На сервере есть несколько типов сообщений:
| Тип | Описание | Данные |
| --- | --- | --- |
| 1 | Обновление данных | int n - количество элементов, Person[n] - данные |
| 2 | Добавление элемента на позицию | int - позиция, Person - данные |
| 3 | Удаление элемента | int - позиция |
| 4 | Замена элемента | int - позиция, Person - данные |

### Серверная часть
Для хранения всех записей используется TreeMap<Object, List<Person>>
Ключ является Object, так как в случае смены сортировки он может быть как String, так и Integer.
В значении хранится список Person, так как в случае совпадения ключей, необходимо хранить несколько записей.
Коллизия по id исключена, для этого используется дополнительный HashSet с id.

### Производительность
Добавление 2.500.000 записей пакетами по 100шт на Ryzen 5 5600 6-Core Processor:
```
2023-05-06T15:08:11.948255900Z 24923
2023-05-06T15:08:12.963521Z    16885
2023-05-06T15:08:13.978654400Z 10159
2023-05-06T15:08:15.037357900Z 4213
2023-05-06T15:08:16.042374700Z Data generated
```